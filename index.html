<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>üïπÔ∏è CodeSnake ‚Äî Chaos Edition v2.4</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/style.css" />
  </head>

  <body class="retro">
    <div class="app">

      <!-- LEFT PANEL -->
      <div class="controls-col" id="leftCol">
        <div class="controls-panel">
          <h3>Appearance</h3>
          <div class="small">
            Theme preview updates immediately when selected in level screen.
          </div>
          <div class="small" style="margin-top: 8px;">
            Retro = neon synthwave. Modern = clean flat UI.
          </div>
        </div>

        <div class="controls-panel">
          <h3>Combo</h3>
          <div class="small">
            Combo window: 2.5s to chain eats into a combo.
          </div>
          <div class="small" style="margin-top: 8px;">
            Best score saved locally.
          </div>
        </div>
      </div>

      <!-- CENTER AREA -->
      <div class="center-area">
        <div class="scoreTopRight">
          <div class="scoreBox">
            <div id="scoreBoard">Score: 0</div>
            <div id="bestBoard" class="small">Best: 0</div>
          </div>
        </div>

        <div id="crt">
          <div class="bgLayer" id="bgLayer">
            <div id="bgParticles" class="bgParticles"></div>
            <div id="bgGradient" class="bgGradient"></div>
            <div id="trapContainer"></div>
          </div>

          <canvas id="game" width="480" height="480"></canvas>

          <div class="controlsTopRight">
            <button id="pauseBtn" class="smallControlBtn">PAUSE</button>
            <button id="musicBtn" class="smallControlBtn">üéµ</button>
          </div>

          <div id="trapPulse" class="trap-pulse"></div>

          <!-- INTRO -->
          <div id="introOverlay" class="overlay">
            <div class="panel">
              <h1>üïπÔ∏è CODE SNAKE</h1>
              <div id="introText" class="typewriter"></div>
              <div class="small" style="margin-top: 10px;">
                Press <strong>Enter</strong> to skip intro ‚Üí Press again to start!
              </div>
            </div>
          </div>

          <!-- LEVEL SELECT -->
          <div id="levelOverlay" class="overlay" style="display: none;">
            <div class="panel level-panel-inner">
              <div class="levelSelectBg" id="levelSelectBg"></div>
              <h1>SELECT SPEED & THEME</h1>

              <div class="levelBtns">
                <button class="levelBtn glowHover" data-speed="220">EASY</button>
                <button class="levelBtn glowHover" data-speed="160">NORMAL</button>
                <button class="levelBtn glowHover" data-speed="120">FAST</button>
                <button class="levelBtn glowHover" data-speed="90">HARD</button>
                <button class="levelBtn glowHover" data-speed="60">INSANE</button>
              </div>

              <div class="themeSelector" style="margin-top: 14px;">
                <label>Theme:</label>
                <select id="themeSelect">
                  <option value="retro">Retro</option>
                  <option value="modern">Modern</option>
                </select>
              </div>

              <div class="small" style="margin-top: 10px;">
                Choose theme and level. Preview updates instantly.
              </div>
            </div>
          </div>

          <!-- GAME OVER -->
          <div id="gameOverOverlay" class="overlay" style="display: none;">
            <div class="panel">
              <div style="font-size: 14px;">üíÄ GAME OVER üíÄ</div>
              <div id="finalScore" class="small" style="margin-top: 8px;">Score: 0</div>
              <div id="bestScore" class="small" style="margin-top: 6px;">Best: 0</div>

              <div id="leaderboardContainer">
                <h3>üèÜ Leaderboard</h3>
                <ul id="leaderboardList"></ul>
              </div>
              <div class="endButtons">
                <button id="backToLevelBtn" class="levelBtn btn">‚Ü© LEVEL SELECT</button>
              </div>
            </div>
          </div>
        </div>

        <!-- HUD row -->
        <div
          class="hud small"
          style="display: flex; flex-direction: column; align-items: center; gap: 6px;"
        >
          <div>
            Use Arrows or WASD ‚Äî Press <strong>P</strong> to Pause
          </div>

          <div
            id="comboBox"
            class="comboBadge"
            style="display: none; font-family: 'Press Start 2P';"
          >
            x1
          </div>
        </div>
      </div>

      <!-- RIGHT PANEL -->
      <div class="controls-col" id="rightCol">
        <div class="controls-panel">
          <h3>Particles</h3>

          <div class="small">
            Count multiplier <span id="countMulLabel">1.00</span>
          </div>
          <input
            id="particleCountMul"
            class="range"
            type="range"
            min="0.25"
            max="3"
            step="0.25"
            value="1"
          />

          <div class="small" style="margin-top: 8px;">
            Size <span id="sizeLabel">3.0</span>px
          </div>
          <input
            id="particleSize"
            class="range"
            type="range"
            min="1"
            max="6"
            step="0.5"
            value="3"
          />

          <div class="small" style="margin-top: 8px;">Trailing sparkles</div>
          <label>
            <input id="trailToggle" type="checkbox" checked /> enabled
          </label>

          <div class="small" style="margin-top: 10px;">Palette</div>
          <div class="colorSwatches">
            <span
              class="color-swatch"
              data-color="mixed"
              style="background: linear-gradient(90deg,#ff66ff,#33ffd6);"
            ></span>
            <span
              class="color-swatch"
              data-color="#ff66ff"
              style="background: #ff66ff;"
            ></span>
            <span
              class="color-swatch"
              data-color="#33ffd6"
              style="background: #33ffd6;"
            ></span>
            <span
              class="color-swatch"
              data-color="#ffd166"
              style="background: #ffd166;"
            ></span>
            <span
              class="color-swatch"
              data-color="#66ff88"
              style="background: #66ff88;"
            ></span>
          </div>

          <div class="small" style="margin-top: 10px;">Volume</div>
          <input id="vol" class="range" type="range" min="0" max="100" value="80" />
        </div>
      </div>

    </div>

    <script src="assets/game.js"></script>
  </body>
</html>
